"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const core_1 = require("@beemo/core");
// Success: Writes passed tests to stdout
// Failure: Writes failed tests to stderr
class WebpackDriver extends core_1.Driver {
    bootstrap() {
        this.setMetadata({
            bin: 'webpack',
            configName: 'webpack.config.js',
            configStrategy: core_1.STRATEGY_REFERENCE,
            description: this.tool.msg('app:webpackDescription'),
            title: 'Webpack',
            watchOptions: ['-w', '--watch'],
        });
    }
    extractErrorMessage(error) {
        if (error.message.indexOf('|') > 0) {
            return error.message.split(/|\s+at$/u, 1)[0];
        }
        return super.extractErrorMessage(error);
    }
}
exports.default = WebpackDriver;
